<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conviértete en un Streamer de Éxito con Luxery Prime Agency</title>
    <meta name="description" content="¿Quieres aprender a ser un streamer exitoso? ¡Únete a Luxery Prime Agency y domina el mundo del streaming en tiempo récord! Completa nuestra solicitud de información de la aplicación y recibe consejos invaluables de nuestros expertos.">
    <meta name="keywords" content="streamer de éxito, aprender a ser streamer, consejos para ser streamer, convertirse en streamer, plataformas de streaming">
    <link rel="icon" href="https://www.google.com/favicon.ico" type="image/x-icon"> <!-- Favicon de Google -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        body {
            background-color: #0f1923;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Poppins', sans-serif;
        }
        .form-content {
            width: 100%;
            max-width: 600px;
            padding: 60px 40px;
            border-radius: 16px;
            color: #f4f6f9;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            background: linear-gradient(135deg, #1a2a3a, #0a1520);
            position: relative;
            font-weight: 400;
            transition-duration: .3s;
            margin: 20px;
        }
        .form-content:before, .form-content:after {
            content: '';
            position: absolute;
            left: -3px;
            top: -3px;
            border-radius: 16px;
            background: linear-gradient(45deg, #00c6ff, #0072ff, #7e2aff, #ff0099, #00c6ff);
            background-size: 400%;
            width: calc(100% + 6px);
            height: calc(100% + 6px);
            z-index: -1;
            animation: steam 20s linear infinite;
        }
        .form-content:after {
            filter: blur(20px);
            opacity: 0.8;
        }
        @keyframes steam {
            0% {
                background-position: 0 0;
            }
            50% {
                background-position: 400% 0;
            }
            100% {
                background-position: 0 0;
            }
        }
        .logo-area {
            margin-bottom: 20px;
            text-align: center;
        }
        .logo-area h1 {
            font-size: 2.2rem;
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
            text-shadow: 0 2px 10px rgba(0, 198, 255, 0.5);
        }
        .logo-area p {
            font-size: 1rem;
            color: #00c6ff;
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        .logo-area .tagline {
            font-size: 0.85rem;
            color: #ff9d00;
            font-weight: 600;
            letter-spacing: 1px;
        }
        .form-group label {
            font-weight: 500;
            margin-bottom: 8px;
            display: block;
            color: #ffffff;
        }
        .form-control {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: white;
            height: 50px;
            transition: all 0.3s;
        }
        .form-control:focus {
            box-shadow: 0 0 0 3px rgba(0, 198, 255, 0.3);
            background-color: rgba(255, 255, 255, 0.15);
            border-color: #00c6ff;
            color: white;
        }
        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        .btn-whatsapp {
            background: linear-gradient(45deg, #25D366, #128C7E);
            color: white;
            border: none;
            height: 54px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            width: 100%;
            margin-top: 10px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
            padding-left: 20px;
            padding-right: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-whatsapp i {
            margin-right: 10px;
        }
        .btn-whatsapp:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(37, 211, 102, 0.4);
            background: linear-gradient(45deg, #20c55b, #0e7f73);
            color: white;
        }
        .text-danger {
            font-size: 0.85rem;
            margin-top: 5px;
            font-weight: 500;
        }
        .alert-warning {
            background-color: rgba(255, 193, 7, 0.15);
            color: #ffca28;
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 8px;
            font-weight: 500;
        }
        .form-text.text-muted {
            color: rgba(255, 255, 255, 0.6) !important;
            font-size: 0.8rem;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        .shake {
            animation: shake 1.5s ease-in-out infinite;
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
        
        hr {
            border-color: rgba(255, 255, 255, 0.1);
            width: 100%;
            margin: 15px 0;
        }

        /* Media Queries para ajustar el efecto del borde según el tamaño de pantalla */
        @media (max-width: 768px) {
            .form-content {
                padding: 40px 20px;
                margin: 15px;
                /* Añadir un borde sólido para asegurar que siempre sea visible */
                border: 1px solid rgba(0, 198, 255, 0.3);
            }
            .form-content:before, .form-content:after {
                /* Aumentar el tamaño del borde para móviles */
                left: -4px;
                top: -4px;
                width: calc(100% + 8px);
                height: calc(100% + 8px);
                /* Cambiar el gradiente para que sea más visible */
                background: linear-gradient(45deg, #00c6ff, #0072ff, #ff00cc, #ff8800, #00c6ff);
                background-size: 300%;
                border-radius: 16px;
            }
            .form-content:after {
                /* Reducir el blur para dispositivos móviles */
                filter: blur(8px);
                /* Aumentar la opacidad */
                opacity: 0.9;
            }
            @keyframes steam {
                0% {
                    background-position: 0 0;
                }
                50% {
                    background-position: 300% 0;
                }
                100% {
                    background-position: 0 0;
                }
            }
            .logo-area h1 {
                font-size: 1.8rem;
            }
            .btn-whatsapp {
                font-size: 0.95rem;
                height: 58px;
                padding-left: 10px;
                padding-right: 10px;
                letter-spacing: -0.2px;
            }
        }

        /* Para dispositivos muy pequeños, ajustar aún más */
        @media (max-width: 480px) {
            .form-content:before, .form-content:after {
                left: -3px;
                top: -3px;
                width: calc(100% + 6px);
                height: calc(100% + 6px);
                /* Simplificar el gradiente para mejor rendimiento */
                background: linear-gradient(45deg, #00c6ff, #ff00cc, #00c6ff);
                background-size: 200%;
            }
            .form-content:after {
                filter: blur(5px);
                opacity: 1;
            }
            .btn-whatsapp {
                font-size: 0.9rem;
                padding: 5px;
                height: auto;
                min-height: 54px;
                word-break: keep-all;
                white-space: nowrap;
                flex-direction: row;
                flex-wrap: nowrap;
            }
        }

        /* Propiedades CSS personalizadas para colores */
        @property --＠color-1 {
            syntax: "<color>";
            inherits: false;
            initial-value: hsl(98 100% 62%);
        }

        @property --＠color-2 {
            syntax: "<color>";
            inherits: false;
            initial-value: hsl(204 100% 59%);
        }

        /* keyframes que cambian la variable de color */
        @keyframes gradient-change {
            to {
                --＠color-1: hsl(210 100% 59%);
                --＠color-2: hsl(310 100% 59%);
            }
        }

        /* Aplicar la animación de gradiente al título */
        .logo-area h1 {
            animation: gradient-change 2s linear infinite alternate;
            background: linear-gradient(
                to right in oklch, 
                var(--＠color-1), 
                var(--＠color-2)
            );
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 2.2rem; /* Mantener el tamaño original */
            font-weight: 700; /* Mantener el peso original */
            text-transform: uppercase; /* Mantener el estilo original */
            letter-spacing: 1px; /* Mantener el espaciado original */
            margin-bottom: 5px; /* Mantener el margen original */
            text-shadow: 0 2px 10px rgba(0, 198, 255, 0.5); /* Mantener la sombra original */
        }

        /* Efecto intermitente para los mensajes de error */
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }

        .blink {
            animation: blink 7s linear infinite; /* Cambia la duración según sea necesario */
        }
    </style>
</head>
<body>
    <div class="form-content">
        <div class="logo-area">
            <h1>Luxery Prime Agency</h1>
            <p>Tu camino al éxito</p>
            <div class="tagline">¡REGISTRATE EN TIEMPO RECORD!</div>
        </div>
        <hr>
        <p style="text-align: justify;">Es importante diligenciar este formulario para facilitar el envío de la información. Los datos suministrados dentro del mismo son de uso exclusivo para <strong>Luxery Prime Agency</strong> y jamás serán revelados.</p>
        <p class="font-italic font-weight-bold" style="text-align: justify;">Toma en consideración que si empiezas a trabajar con nosotros y los datos que suministras en este formulario son FALSOS, tu pago se puede demorar en llegar.</p>
        <hr>
        <form id="contactForm" aria-labelledby="formTitle">
            <h2 id="formTitle" class="visually-hidden">Solicitud de Información de la Aplicación</h2>
            <div class="form-group mb-4">
                <label for="name"><span class="text-danger">*</span> Nombre y Apellido </label>
                <input type="text" autocomplete="on" class="form-control" id="name" placeholder="Nombre y apellido (Reales)" required aria-describedby="nameError nameHelp">
                <div class="alert alert-danger blink" id="nameError" style="display:none;"></div>
                <small class="form-text text-muted" id="nameHelp">Por favor ingresa un solo nombre y un apellido (Reales).</small>
            </div>

            <div class="form-group mb-4">
                <label for="date"><span class="text-danger">*</span> Fecha de Nacimiento </label>
                <input type="date" class="form-control" id="date" required aria-describedby="dateError dateHelp">
                <div class="alert alert-danger blink" id="dateError" style="display:none;"></div>
                <small class="form-text text-muted" id="dateHelp">Ingresa tu fecha de nacimiento (Real).</small>
            </div>

            <div class="form-group mb-4">
                <label for="email"><span class="text-danger">*</span> Correo Electrónico</label>
                <input type="email" autocomplete="on" class="form-control" id="email" placeholder="tucorreo@example.com" required aria-describedby="emailError emailHelp">
                <div class="alert alert-danger blink" id="emailError" style="display:none;"></div>
                <small class="form-text text-muted" id="emailHelp">Proporcione solo una dirección de correo electrónico válida.</small>
            </div>

            <input type="hidden" id="userIP" name="userIP">
            <hr>
            <div class="alert alert-warning" role="alert">En Luxery Prime Agency <strong>JAMÁS</strong> te pediremos realizar ningún tipo de <strong>INVERSIÓN</strong>.</div>
            <hr>

            <button type="button" class="btn btn-whatsapp btn-block shake" id="submitBtn">
                <i class="bi bi-whatsapp"></i> Solicitar información de la App
            </button>
        </form>
    </div>

    <script>
        let requestId = ''; // Variable para almacenar el ID de solicitud

        // Obtener la dirección IP del usuario
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                const ip = data.ip; // Obtener la IP
                requestId = `ID-${ip.replace(/\./g, '-')}`; // Formatear la IP como ID
            })
            .catch(() => {
                console.error('Error al obtener la dirección IP.');
                // Generar un ID aleatorio como fallback
                requestId = `ID-${Math.floor(Math.random() * 1000000)}`;
            });

        // Establecer las fechas mínimas y máximas para el selector de fecha
        window.onload = function() {
            const today = new Date();
            const minDate = new Date();
            const maxDate = new Date();

            // Calcular la fecha mínima (18 años atrás)
            minDate.setFullYear(today.getFullYear() - 18);
            // Calcular la fecha máxima (50 años atrás)
            maxDate.setFullYear(today.getFullYear() - 50);

            // Formatear las fechas a 'YYYY-MM-DD'
            const minDateString = minDate.toISOString().split('T')[0];
            const maxDateString = maxDate.toISOString().split('T')[0];

            // Asignar las fechas al input
            document.getElementById('date').setAttribute('min', maxDateString);
            document.getElementById('date').setAttribute('max', minDateString);
        };

        // Fetch para obtener el número de teléfono desde la API de Google Apps Script
        let phone = '573107687280'; // Número por defecto

        fetch('https://script.google.com/macros/s/AKfycbzYrmE35mMU9ZNa_osXzPhNh4Dej1e8BPZcte29mn251wwZWWZAJkbbyIMqa0gxO73R/exec')
            .then(response => response.text())
            .then(data => {
                if (data.trim()) {
                    phone = data.trim();
                }
            })
            .catch(() => {
                console.error('Error al obtener el número de teléfono, usando el número por defecto.');
            });

        document.getElementById('submitBtn').addEventListener('click', function() {
            // Limpiar errores previos
            document.getElementById('nameError').style.display = 'none';
            document.getElementById('dateError').style.display = 'none';
            document.getElementById('emailError').style.display = 'none';

            let name = document.getElementById('name').value.trim().toLowerCase();
            const date = document.getElementById('date').value;
            let email = document.getElementById('email').value.trim().toLowerCase();
            let isValid = true;

            // Validación de nombre (exactamente un nombre y un apellido)
            const nameParts = name.split(' ').filter(part => part.length > 0);
            if (name === '' || nameParts.length !== 2) {
                document.getElementById('nameError').innerText = 'Por favor, ingresa exactamente un nombre y un apellido.';
                document.getElementById('nameError').style.display = 'block';
                isValid = false;
            }

            // Validación de fecha
            if (!date) {
                document.getElementById('dateError').innerText = 'Por favor, ingresa una fecha de nacimiento válida.';
                document.getElementById('dateError').style.display = 'block';
                isValid = false;
            }

            // Validación de correo - VERSIÓN MEJORADA
            if (email === '') {
                document.getElementById('emailError').innerText = 'Por favor, ingresa un correo electrónico.';
                document.getElementById('emailError').style.display = 'block';
                isValid = false;
            } else {
                // Expresión regular más estricta para validación de email
                const emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                
                // Verificar si cumple con el formato básico
                if (!emailRegex.test(email)) {
                    document.getElementById('emailError').innerText = 'El formato del correo electrónico no es válido.';
                    document.getElementById('emailError').style.display = 'block';
                    isValid = false;
                } 
                // Verificar longitud máxima
                else if (email.length > 254) {
                    document.getElementById('emailError').innerText = 'El correo electrónico es demasiado largo (máximo 254 caracteres).';
                    document.getElementById('emailError').style.display = 'block';
                    isValid = false;
                }
                // Verificar que el nombre de usuario no sea demasiado largo
                else if (email.split('@')[0].length > 64) {
                    document.getElementById('emailError').innerText = 'El nombre de usuario del correo es demasiado largo (máximo 64 caracteres).';
                    document.getElementById('emailError').style.display = 'block';
                    isValid = false;
                }
                // Verificar que la extensión del dominio sea válida
                else {
                    const domainPart = email.split('@')[1];
                    const extension = domainPart.substring(domainPart.lastIndexOf('.') + 1).toLowerCase();
                    
                    // Lista de extensiones válidas (TLDs)
                    const validExtensions = [
                        // Genéricos comunes
                        'com', 'net', 'org', 'edu', 'gov', 'mil', 'info', 'biz', 'name', 'pro', 
                        'mobi', 'app', 'io', 'co', 'me', 'tv', 'xyz', 'site', 'online', 'store',
                        'blog', 'club', 'design', 'dev', 'digital', 'host', 'life', 'live', 'news',
                        'shop', 'tech', 'website', 'world', 'zone', 'email', 'academy', 'agency',
                        'business', 'center', 'cloud', 'company', 'computer', 'consulting', 'global',
                        'group', 'ink', 'international', 'lawyer', 'ltd', 'marketing', 'media', 'partners',
                        'photography', 'solutions', 'support', 'systems', 'team', 'technology', 'tools',
                        'university', 'vision', 'works',
                        
                        // América del Norte
                        'us', 'ca', 'mx',
                        
                        // América Central
                        'bz', 'cr', 'sv', 'gt', 'hn', 'ni', 'pa', 
                        
                        // Caribe
                        'cu', 'do', 'ht', 'jm', 'pr', 'tt', 'bs', 'bb', 'dm', 'gd', 'ag', 'kn', 'lc', 'vc', 'ai', 'vg', 'tc', 'ms',
                        
                        // América del Sur
                        'ar', 'bo', 'br', 'cl', 'co', 'ec', 'gy', 'py', 'pe', 'sr', 'uy', 've', 'gf', 'fk',
                        
                        // Resto del Mundo (importantes)
                        'uk', 'eu', 'au', 'ch', 'cn', 'de', 'dk', 'es', 'fr', 'in', 'it', 'jp', 'kr', 
                        'nl', 'no', 'nz', 'pl', 'pt', 'ro', 'ru', 'se', 'za', 'sg', 'th', 'tr', 'ua', 'vn',
                        
                        // Multi-nivel América del Norte
                        'com.mx', 'gob.mx', 'edu.mx', 'net.mx', 'org.mx',
                        'gc.ca', 'co.us', 'k12.us', 'edu.us', 'fed.us', 'state.us',
                        
                        // Multi-nivel América Central y Caribe
                        'co.cr', 'fi.cr', 'or.cr', 'ed.cr', 'ac.cr', 'go.cr', 'sa.cr',
                        'gob.gt', 'edu.gt', 'ind.gt', 'com.gt', 'net.gt', 'org.gt', 'mil.gt',
                        'gob.hn', 'edu.hn', 'org.hn', 'com.hn', 'net.hn', 'mil.hn',
                        'gob.ni', 'edu.ni', 'org.ni', 'com.ni', 'net.ni', 'nom.ni',
                        'gob.pa', 'edu.pa', 'org.pa', 'com.pa', 'net.pa', 'abo.pa', 'ing.pa', 'med.pa',
                        'gob.sv', 'edu.sv', 'com.sv', 'org.sv', 'red.sv',
                        'com.do', 'net.do', 'org.do', 'gob.do', 'edu.do', 'web.do', 'art.do', 'sld.do',
                        'edu.cu', 'gov.cu', 'inf.cu', 'net.cu', 'org.cu', 'com.cu',
                        'edu.pr', 'gov.pr', 'net.pr', 'org.pr', 'com.pr',
                        'com.jm', 'net.jm', 'org.jm', 'gov.jm', 'edu.jm',
                        'com.ht', 'net.ht', 'org.ht', 'edu.ht', 'gouv.ht', 'perso.ht',
                        
                        // Multi-nivel América del Sur
                        'com.ar', 'gov.ar', 'org.ar', 'edu.ar', 'mil.ar', 'net.ar', 'tur.ar', 'musica.ar',
                        'com.bo', 'gob.bo', 'edu.bo', 'org.bo', 'net.bo', 'tv.bo', 'mil.bo', 'int.bo',
                        'com.br', 'net.br', 'org.br', 'gov.br', 'edu.br', 'mil.br', 'art.br', 'esp.br', 'ind.br', 'adm.br', 'adv.br',
                        'cl', 'gov.cl', 'gob.cl', 'co.cl', 'mil.cl', 'net.cl', 'org.cl',
                        'com.co', 'net.co', 'nom.co', 'edu.co', 'org.co', 'gov.co', 'mil.co',
                        'com.ec', 'info.ec', 'net.ec', 'fin.ec', 'med.ec', 'gov.ec', 'edu.ec', 'gob.ec',
                        'com.py', 'edu.py', 'gov.py', 'mil.py', 'net.py', 'org.py',
                        'com.pe', 'edu.pe', 'gob.pe', 'mil.pe', 'net.pe', 'org.pe', 'nom.pe',
                        'com.uy', 'edu.uy', 'gub.uy', 'org.uy', 'net.uy', 'mil.uy',
                        'co.ve', 'com.ve', 'edu.ve', 'gob.ve', 'info.ve', 'mil.ve', 'net.ve', 'org.ve', 'web.ve',
                        
                        // Multi-nivel resto del mundo
                        'co.uk', 'org.uk', 'gov.uk', 'ac.uk', 'me.uk', 'sch.uk', 'net.uk',
                        'com.au', 'net.au', 'org.au', 'edu.au', 'gov.au', 'asn.au', 'id.au',
                        'co.nz', 'net.nz', 'org.nz', 'govt.nz', 'school.nz', 'ac.nz',
                        'co.za', 'org.za', 'gov.za', 'ac.za', 'edu.za', 'net.za',
                        'co.jp', 'go.jp', 'ac.jp', 'ne.jp', 'ad.jp'
                    ];

                    // Verificar si es una extensión válida 
                    let isValidExtension = false;
                    
                    // Primero intentar con la extensión simple (ejemplo: 'com')
                    if (validExtensions.includes(extension)) {
                        isValidExtension = true;
                    } else {
                        // Intentar con extensiones multi-nivel (ejemplo: 'co.uk')
                        for (const multiExt of validExtensions.filter(ext => ext.includes('.'))) {
                            if (domainPart.endsWith('.' + multiExt)) {
                                isValidExtension = true;
                                break;
                            }
                        }
                    }
                    
                    if (!isValidExtension) {
                        document.getElementById('emailError').innerText = 'La extensión del correo electrónico no es válida.';
                        document.getElementById('emailError').style.display = 'block';
                        isValid = false;
                    } else {
                        // Verificar que no contenga dominios temporales conocidos
                        const temporaryDomains = [
                            'tempmail.com', 'temp-mail.org', 'fakeinbox.com', 
                            'tempinbox.com', 'yopmail.com', 'mailinator.com',
                            'guerrillamail.com', '10minutemail.com', 'mailnesia.com',
                            'trashmail.com', 'sharklasers.com', 'guerrillamail.info'
                        ];
                        
                        if (temporaryDomains.some(domain => domainPart.includes(domain))) {
                            document.getElementById('emailError').innerText = 'Por favor, utiliza un correo electrónico permanente (no temporal).';
                            document.getElementById('emailError').style.display = 'block';
                            isValid = false;
                        }
                    }
                }
            }

            // Si todo es válido, abrir WhatsApp con el mensaje formateado
            if (isValid) {
                // Capitalizar primera letra de nombre y apellido
                name = nameParts.map(part => part.charAt(0).toUpperCase() + part.slice(1)).join(' ');
                
                const formattedDate = new Date(date).toLocaleDateString('es-ES', { day: '2-digit', month: '2-digit', year: 'numeric' }).replace(/-/g, '/');
                const message = `*Solicitud de Información*\n\n_Datos de Contacto_\n\nNombre y apellido(s) : ${name}\nFecha de Nacimiento : ${formattedDate}\nCorreo electrónico : ${email}\n\n> Número de Solicitud : ${requestId}`;
                const waUrl = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
                window.open(waUrl, '_blank');
            }
        });
    </script>
</body>
</html>